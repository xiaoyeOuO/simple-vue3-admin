<template>
  <div class="workplace-container">
    <el-row :gutter="16">
      <!-- æˆ‘çš„ä»»åŠ¡ -->
      <el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12">
        <el-card class="workplace-card">
          <template #header>
            <div class="card-header">
              <div class="header-left">
                <span class="card-logo">ğŸ“‹</span>
                <span class="card-title">æˆ‘çš„ä»»åŠ¡</span>
              </div>
              <div class="header-right">
                <el-select
                  v-model="projectId"
                  placeholder="é€‰æ‹©é¡¹ç›®"
                  size="small"
                  style="width: 120px; margin-right: 8px;"
                  clearable
                  @change="handleProjectChange"
                >
                  <el-option
                    v-for="item in projectOptions"
                    :key="item.value"
                    :label="item.label"
                    :value="item.value"
                  />
                </el-select>
                <el-date-picker
                  v-model="selectedDate"
                  type="date"
                  placeholder="é€‰æ‹©æ—¥æœŸ"
                  size="small"
                  style="width: 140px;"
                  clearable
                  @change="handleDateChange"
                />
              </div>
            </div>
          </template>
          <div class="card-content">
            <MyTasks :project-id="projectId" :date="selectedDate" />
          </div>
        </el-card>
      </el-col>

      <!-- æˆ‘çš„è½¯ä»¶ -->
      <el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12">
        <el-card class="workplace-card">
          <template #header>
            <div class="card-header">
              <div class="header-left">
                <span class="card-logo">ğŸ’»</span>
                <span class="card-title">æˆ‘çš„è½¯ä»¶</span>
              </div>
              <div class="header-right">
                <el-button 
                  type="primary" 
                  size="small" 
                  @click="$refs.mySoftRef.handleAddSoftware()"
                >
                  æ·»åŠ è½¯ä»¶
                </el-button>
              </div>
            </div>
          </template>
          <div class="card-content">
            <MySoft ref="mySoftRef" />
          </div>
        </el-card>
      </el-col>

      <!-- æœ‰é—®å¿…ç­” -->
      <el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12">
        <el-card class="workplace-card">
          <template #header>
            <div class="card-header">
              <div class="header-left">
                <span class="card-logo">â“</span>
                <span class="card-title">æœ‰é—®å¿…ç­”</span>
              </div>
              <div class="header-right">
                <!-- æœ‰é—®å¿…ç­”çš„æ“ä½œæŒ‰é’®æˆ–é€‰æ‹©å™¨å¯ä»¥æ”¾åœ¨è¿™é‡Œ -->
              </div>
            </div>
          </template>
          <div class="card-content">
            <MyQA />
          </div>
        </el-card>
      </el-col>

      <!-- æˆ‘çš„æ—¥ç¨‹ -->
      <el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12">
        <el-card class="workplace-card">
          <template #header>
            <div class="card-header">
              <div class="header-left">
                <span class="card-logo">ğŸ“…</span>
                <span class="card-title">æˆ‘çš„æ—¥ç¨‹</span>
              </div>
              <div class="header-right">
                <!-- æˆ‘çš„æ—¥ç¨‹çš„æ“ä½œæŒ‰é’®æˆ–é€‰æ‹©å™¨å¯ä»¥æ”¾åœ¨è¿™é‡Œ -->
              </div>
            </div>
          </template>
          <div class="card-content">
            <MySchedule />
          </div>
        </el-card>
      </el-col>

      <!-- è½¯ä»¶ä½¿ç”¨æƒé™ -->
      <el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12">
        <el-card class="workplace-card">
          <template #header>
            <div class="card-header">
              <div class="header-left">
                <span class="card-logo">ğŸ”‘</span>
                <span class="card-title">è½¯ä»¶ä½¿ç”¨æƒé™</span>
              </div>
              <div class="header-right">
                <!-- è½¯ä»¶ä½¿ç”¨æƒé™çš„æ“ä½œæŒ‰é’®æˆ–é€‰æ‹©å™¨å¯ä»¥æ”¾åœ¨è¿™é‡Œ -->
              </div>
            </div>
          </template>
          <div class="card-content">
            <!-- è½¯ä»¶ä½¿ç”¨æƒé™å†…å®¹ -->
          </div>
        </el-card>
      </el-col>

      <!-- æˆ‘çš„æ‰“åˆ† -->
      <el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12">
        <el-card class="workplace-card">
          <template #header>
            <div class="card-header">
              <div class="header-left">
                <span class="card-logo">â­</span>
                <span class="card-title">æˆ‘çš„æ‰“åˆ†</span>
              </div>
              <div class="header-right">
                <!-- æˆ‘çš„æ‰“åˆ†çš„æ“ä½œæŒ‰é’®æˆ–é€‰æ‹©å™¨å¯ä»¥æ”¾åœ¨è¿™é‡Œ -->
              </div>
            </div>
          </template>
          <div class="card-content">
            <!-- æˆ‘çš„æ‰“åˆ†å†…å®¹ -->
          </div>
        </el-card>
      </el-col>

      <!-- æˆ‘çš„å‹‹ç«  -->
      <el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12">
        <el-card class="workplace-card">
          <template #header>
            <div class="card-header">
              <div class="header-left">
                <span class="card-logo">ğŸ†</span>
                <span class="card-title">æˆ‘çš„å‹‹ç« </span>
              </div>
              <div class="header-right">
                <!-- æˆ‘çš„å‹‹ç« çš„æ“ä½œæŒ‰é’®æˆ–é€‰æ‹©å™¨å¯ä»¥æ”¾åœ¨è¿™é‡Œ -->
              </div>
            </div>
          </template>
          <div class="card-content">
            <!-- æˆ‘çš„å‹‹ç« å†…å®¹ -->
          </div>
        </el-card>
      </el-col>

      <!-- æˆ‘çš„ç­‰çº§ -->
      <el-col :xs="24" :sm="12" :md="12" :lg="12" :xl="12">
        <el-card class="workplace-card">
          <template #header>
            <div class="card-header">
              <div class="header-left">
                <span class="card-logo">ğŸ“Š</span>
                <span class="card-title">æˆ‘çš„ç­‰çº§</span>
              </div>
              <div class="header-right">
                <!-- æˆ‘çš„ç­‰çº§çš„æ“ä½œæŒ‰é’®æˆ–é€‰æ‹©å™¨å¯ä»¥æ”¾åœ¨è¿™é‡Œ -->
              </div>
            </div>
          </template>
          <div class="card-content">
            <!-- æˆ‘çš„ç­‰çº§å†…å®¹ -->
          </div>
        </el-card>
      </el-col>
    </el-row>
  </div>
</template>

<script setup>
import { ref } from 'vue'
import MyTasks from './MyTasks.vue'
import MySoft from './mySoft.vue'
import MyQA from './myQA.vue'
import MySchedule from './mySchedule.vue'

// é¡¹ç›®IDå’Œæ—¶é—´å‚æ•°
const projectId = ref('')
const selectedDate = ref('')

// é¡¹ç›®é€‰é¡¹ï¼ˆå¯ä»¥æ ¹æ®å®é™…éœ€æ±‚ä»APIè·å–ï¼‰
const projectOptions = ref([
  { label: 'é¡¹ç›®A', value: 'project-a' },
  { label: 'é¡¹ç›®B', value: 'project-b' },
  { label: 'é¡¹ç›®C', value: 'project-c' },
  { label: 'é¡¹ç›®D', value: 'project-d' }
])

// ç›‘å¬é€‰æ‹©å™¨å˜åŒ–
const handleProjectChange = (value) => {
  console.log('é€‰æ‹©çš„é¡¹ç›®:', value)
  // è¿™é‡Œå¯ä»¥è§¦å‘æ•°æ®é‡æ–°åŠ è½½
}

const handleDateChange = (value) => {
  console.log('é€‰æ‹©çš„æ—¥æœŸ:', value)
  // è¿™é‡Œå¯ä»¥è§¦å‘æ•°æ®é‡æ–°åŠ è½½
}

// è¿™é‡Œå¯ä»¥æ·»åŠ æ¯ä¸ªæ¨¡å—çš„å…·ä½“é€»è¾‘
</script>

<style scoped>
.workplace-container {
}

.workplace-card {
  margin-bottom: 16px;
  min-height: 200px;
  height: auto;
  border-radius: 8px;
  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);
}

.card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 8px;
}

.header-left {
  display: flex;
  align-items: center;
  gap: 8px;
}

.header-right {
  display: flex;
  align-items: center;
}

.card-logo {
  font-size: 20px;
}

.card-title {
  font-size: 16px;
  font-weight: 500;
}

.card-content {
  min-height: 200px;
  padding: 0;
}
</style>