# 合同项目详情页面重构说明

## 重构目标
将detail.vue中三个功能模块（模块管理、任务管理、缺陷管理）拆分为独立的组件，实现代码结构清晰、职责分离、易于维护。

## 重构后的文件结构

```
contract-list/
├── detail.vue              # 主详情页面（仅保留项目基本信息和标签页结构）
├── dashboard/              # 项目看板组件
│   └── dashboardPane.vue   # 项目数据可视化看板组件
├── module/                 # 模块管理组件
│   ├── modulePane.vue      # 模块列表展示组件
│   └── moduleEdit.vue      # 模块编辑组件
├── task/                   # 任务管理组件
│   ├── taskPane.vue        # 任务列表展示组件
│   └── taskEdit.vue        # 任务编辑组件
└── bug/                    # 缺陷管理组件
    ├── bugPane.vue         # 缺陷列表展示组件
    └── bugEdit.vue         # 缺陷编辑组件
```

## 组件职责

### detail.vue
- 项目基本信息展示
- 标签页导航控制（默认显示看板页）
- 数据状态管理（modulesData, tasksData, bugsData）
- 事件总线协调

### dashboardPane.vue
- 项目数据可视化展示
- 三个核心图表：缺陷数量趋势、任务完成趋势、实际工时趋势
- 支持图表类型切换（折线图、柱状图、饼图）
- 响应式布局和图表自适应

### modulePane.vue
- 模块列表的树形展示
- 模块的增删改查操作
- 模块统计信息的展示
- 列设置功能

### taskPane.vue
- 任务列表的树形展示
- 任务的增删改查操作
- 任务进度和状态展示
- 任务筛选功能

### bugPane.vue
- 缺陷列表的展示
- 缺陷的增删改查操作
- 缺陷严重程度和优先级展示
- 缺陷状态管理

## 数据流

1. **父传子**：detail.vue通过props传递数据给各pane组件
2. **子传父**：各pane组件通过emit事件通知父组件更新数据
3. **兄弟通信**：通过父组件作为中介进行数据同步

## 使用方法

各pane组件都是独立的功能模块，可以单独测试和维护。通过props接收数据，通过emit事件与父组件通信。

## 优势

1. **代码清晰**：每个组件职责单一，易于理解
2. **可维护**：修改某个功能不会影响其他功能
3. **可复用**：组件可以在其他页面复用
4. **可测试**：每个组件可以独立测试
5. **可扩展**：新增功能只需添加新组件